<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burp Suite Style History</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        .top-panel {
            flex: 1;
            border-bottom: 2px solid #ccc;
            overflow-y: auto;
        }
        .bottom-panel {
            flex: 2;
            display: flex;
        }
        .request-panel, .response-panel {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            border-right: 1px solid #ccc;
        }
        .response-panel {
            border-right: none;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 8px;
            border: 1px solid #ddd;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        tr:hover {
            background-color: #f5f5f5;
            cursor: pointer;
        }
        pre {
            background-color: #f9f9f9;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
    <!-- 上半部分：URL 列表 -->
    <div class="top-panel">
        <table id="urlTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Method</th>
                    <th>URL</th>
                    <th>Status</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody>
                <!-- URL 数据将通过 JavaScript 动态填充 -->
            </tbody>
        </table>
    </div>

    <!-- 下半部分：请求和响应 -->
    <div class="bottom-panel">
        <div class="request-panel">
            <h3>Request</h3>
            <pre id="requestContent">Select a URL to view request details.</pre>
        </div>
        <div class="response-panel">
            <h3>Response</h3>
            <pre id="responseContent">Select a URL to view response details.</pre>
        </div>
    </div>

    <script>
        // 示例数据
        const historyData = [
            {
                id: 1,
                method: "GET",
                url: "https://example.com/api/data",
                status: 200,
                time: "2023-10-01 12:34:56",
                request: "GET /api/data HTTP/1.1\nHost: example.com\nAccept: application/json",
                response: "HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\"data\": \"example\"}"
            },
            {
                id: 2,
                method: "POST",
                url: "https://example.com/login",
                status: 302,
                time: "2023-10-01 12:35:10",
                request: "POST /login HTTP/1.1\nHost: example.com\nContent-Type: application/json\n\n{\"username\": \"admin\", \"password\": \"password\"}",
                response: "HTTP/1.1 302 Found\nLocation: /dashboard"
            },
            {
                id: 3,
                method: "GET",
                url: "https://example.com/dashboard",
                status: 200,
                time: "2023-10-01 12:35:45",
                request: "GET /dashboard HTTP/1.1\nHost: example.com\nAccept: text/html",
                response: "HTTP/1.1 200 OK\nContent-Type: text/html\n\n<html><body>Dashboard</body></html>"
            }
        ];

        // 填充 URL 表格
        function populateUrlTable() {
            const tbody = document.querySelector("#urlTable tbody");
            tbody.innerHTML = ""; // 清空现有行

            historyData.forEach(item => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${item.id}</td>
                    <td>${item.method}</td>
                    <td>${item.url}</td>
                    <td>${item.status}</td>
                    <td>${item.time}</td>
                `;
                row.addEventListener("click", () => showRequestResponse(item));
                tbody.appendChild(row);
            });
        }

        // 显示请求和响应内容
        function showRequestResponse(item) {
            document.getElementById("requestContent").textContent = item.request;
            document.getElementById("responseContent").textContent = item.response;
        }

        // 页面加载时初始化
        window.onload = () => {
            populateUrlTable();
            // 默认显示第一条数据的请求和响应
            if (historyData.length > 0) {
                showRequestResponse(historyData[0]);
            }
        };
    </script>
</body>
</html>
